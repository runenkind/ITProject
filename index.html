<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A-mean-o-acid</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <header></header>
    <main>
        <!-- Welcome menu -->
        <div id="welcomeNewplayer">
            <form class="menu" id="welcomemenu">            
                <h1>
                    <span class="line">Welcome</span>
                    <br>
                    <span class="line">to</span>
                    <br>
                    <span class="line">A-mean-o-acid</span>
                </h1>
                <input autofocus id="name" placeholder="Please enter your name" type="text">
                <input type="submit" id="submit">
            </form>
        </div>
        <!-- Main menu -->
        <div id="main">
            <form class="menu" id="mainmenu">
                <h1>
                    <span id="hello" class="line"></span>
                    <br>
                    <br>
                    <br>
                    <br>
                    <span id="coninue" class="line"></span>
                    <br>
                    <span id="ng" class="line"> New game</span>
                    <br>
                    <span id="settings" class="line" onclick="displayMenu('settingsmenu')">Settings</span>
                    <br>
                    <span id="help" class="line" onclick="displayMenu('helpmenu')">Get help</span>
                    <br>
                    <span id="credits" class="line" onclick="displayMenu('helpmenu')">Credits</span>
                </h1>
            </form>
        </div>
        <!-- Settings menu -->
        <div >
            <form class="menu" id="settingsmenu">
                <h1>
                    <span class="line">Settings</span>
                    <br>
                    <br>
                    <br>
                    <br>
                    <span class="line">Sound</span>
                    <br>
                    <span class="line">Music</span>
                    <br>
                    <span id="back" class="line" onclick="displayMenu('main')">Back</span>
                </h1>
            </form>
        </div>
        <!-- Help menu -->
        <div>
            <form class="menu" id="helpmenu">
                <h1>
                    <span class="line">Help</span>
                    <br>
                    <br>
                    <br>
                    <br>
                    <span class="line">Links</span>
                    <br>
                    <span id="back" class="line" onclick="displayMenu('main')">Back</span>
                </h1>
        </div>
        <!-- Credits menu -->
        <!-- <div>
            <form class="menu" id="creditsmenu">
                <h1>
                    <span class="line">Credits</span>
                    <br>
                    <br>
                    <br>
                    <br>
                    <span id="back" class="line" onclick="displayMenu('main')">Back</span>
                </h1>
            </form>
        </div> -->

    </main>
    <footer></footer>
    <!-- <script src="game.js"></script> -->
    <script>
        var totalDuration = 3 + 2 + 3; 
        setTimeout(function() {
        document.querySelector('#name').classList.add('fade-in');
        document.querySelector('#submit').classList.add('fade-in');
        }, totalDuration * 1000);
        

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('#welcomemenu').onsubmit = () => {
                event.preventDefault();
                const name = document.querySelector('#name').value;
                localStorage.setItem('name', name);
                document.querySelector('#name').value = '';
                console.log(localStorage.getItem('name'));
            };
        });
        function displayMenu(menuId) {
            // List of all menus
            var menus = ['welcomeNewplayer', 'main', 'settingsmenu', 'helpmenu',];

            // Hide all menus
            for (var i = 0; i < menus.length; i++) {
                document.getElementById(menus[i]).style.display = 'none';
            }

            // Display the specified menu
            document.getElementById(menuId).style.display = 'flex';
        }

        window.onload = function() {
            if (!localStorage.getItem('name')) {
                displayMenu('welcomeNewplayer');
            } else {
                displayMenu('main');
                document.querySelector('#hello').innerHTML = 'Hello, ' + localStorage.getItem('name') + '!';
            }

            document.querySelector('#welcomemenu').onsubmit = (event) => {
                event.preventDefault();
                const name = document.querySelector('#name').value;
                localStorage.setItem('name', name);
                document.querySelector('#name').value = '';
                displayMenu('main');
                document.querySelector('#hello').innerHTML = 'Hello, ' + localStorage.getItem('name') + '!';
            };
        };
    </script>
    <iframe src="game.materials/Release/play.html" width="100%" height="500"></iframe>
</body>
</html>